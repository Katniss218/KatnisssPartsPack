@PART[*]:HAS[@PLUME[kPadSmoke]:HAS[~processed[*]]]:AFTER[zRealPlume]:NEEDS[SmokeScreen]
{
    %EFFECTS
    {
		kPadSmoke
        {
            MODEL_MULTI_SHURIKEN_PERSIST
            {
                //Get the inputs from the other config.
                transformName = #$/PLUME[kPadSmoke]:HAS[~processed[*]]/transformName$
                //
                name = #$/PLUME[kPadSmoke]:HAS[~processed[*]]/plumeIdentifier$-smoke
                modelName = RealPlume/MP_Nazari_FX/smokelaunch
				
				localRotation = 0,5,0
				localPosition = 0,0,0
				fixedScale = 1
				saturationMult = 0
				speed = 1.0 0.1
				speed = 0.0 0.1
				size = #$/PLUME[kPadSmoke]:HAS[~processed[*]]/size$
				sizeClamp = 500
				initialDensity = 1.4
				dragCoefficient = 0.5
				physical = True
				randomInitalVelocityOffsetMaxRadius = 2

				energy = 2.25
				linGrow
				{
				  density = 1 0.25
				  density = 0 0
				}
				logGrow
				{
				  density = 1 0.35
				  density = 0 0
				}
				alphaMult = #$/PLUME[kPadSmoke]:HAS[~processed[*]]/alphaMult$
				emission
				{
				  density = 1   0.03
				  density = 0.8 0
				  
				  mach = 0 1
				  mach = 0.03 2
				  mach = 0.045 0
				}

				AUDIO
				{
					name = audio
					channel = Ship
					clip = KatnisssCustomPlumes/vent
					volume = 0.0 0.0
					volume = #$/PLUME[kPadSmoke]/audioVolume$
					@volume,1 ^= :^:1.0 :
					pitch = 0.0 1.0
					pitch = 1.0 1.0
					loop = true
				}
			
            }
        }
        &engage
        {

        }
        &disengage
        {

        }
        &flameout
        {

        }
    }
    @PLUME[kPadSmoke]:HAS[~processed[*]]
    {
        processed = true
    }
    MM_PATCH_LOOP { }
}
